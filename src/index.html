<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>QR Code Styling</title>
</head>

<body>
    <div id="canvas"></div>
    <button type="button"
        id="download">Download</button>
    <script type="module">
        import { QRCodeStyling, browserUtils } from './index.ts'

        const options = {
            shape: 'circle',
            type: 'svg',
            data: 'h',
            image: 'https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg',
            dotsOptions: {
                type: 'extra-rounded',
                gradient: {
                    type: 'linear', //radial,
                    rotation: Math.PI / 2,
                    colorStops: [
                        { offset: 0, color: 'blue' },
                        { offset: 0.5, color: 'red' },
                        { offset: 1, color: 'green' }
                    ]
                }
            },
            cornersSquareOptions: {
                type: 'dot',
                gradient: {
                    type: 'linear',
                    rotation: Math.PI * 0.2,
                    colorStops: [
                        {
                            offset: 0,
                            color: 'blue'
                        },
                        {
                            offset: 1,
                            color: 'red'
                        }
                    ]
                }
            },
            imageOptions: {
                crossOrigin: 'anonymous',
                imageSize: 0.5,
                margin: 1
            }
        }
        const qrCode = new QRCodeStyling(options)

        qrCode.append(document.getElementById('canvas'))
        document.getElementById('download').addEventListener('click', () => {
            browserUtils.download(qrCode, { extension: 'png' }, { width: 1200, height: 1200 })
        })
    </script>
</body>

</html>
